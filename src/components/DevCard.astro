---
export interface Props {
  project: {
    slug: string;
    data: {
      title: string;
      description?: string;
      date: Date;
      url?: string;
      tech?: string[];
    };
  };
}

const { project } = Astro.props;
const { title, description, date, url, tech } = project.data;
---

<article class="flex flex-col min-h-[340px] h-full border border-neutral-800 rounded-xl bg-neutral-950 p-6 hover:border-neutral-600 transition">
  <div class="flex-1 flex flex-col">
    <h3 class="text-xl font-semibold text-neutral-100 mb-1">{title}</h3>
    <p class="text-neutral-400 text-sm mb-2">
      {date.toLocaleDateString(undefined, {
        year: "numeric",
        month: "short",
        day: "numeric",
      })}
    </p>
    <p class="text-neutral-300 text-sm mb-4 flex-1">{description ?? "No description provided."}</p>
    <div class="flex flex-wrap gap-2 mb-2">
      {(tech && tech.length > 0
        ? tech
        : ["No tags"]).map((t) => (
        <span class="text-xs bg-neutral-900 text-neutral-400 px-2 py-1 rounded border border-neutral-700">
          {t}
        </span>
      ))}
    </div>
  </div>
  <div class="flex gap-2 mt-auto pt-4">
    <a
      href={`/dev/${project.slug}`}
      class="text-sm px-4 py-2 bg-neutral-100 text-black rounded hover:bg-neutral-200 transition"
    >
      Read More
    </a>
    {url && (
      <a
        href={url}
        target="_blank"
        class="text-sm px-4 py-2 bg-neutral-800 text-neutral-300 rounded border border-neutral-700 hover:bg-neutral-700 transition"
      >
        See Project
      </a>
    )}
  </div>
</article>